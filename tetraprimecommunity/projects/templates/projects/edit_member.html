{% extends "base.html" %}
{% load static %}
{% load preferences_filters %}

{% block title %}Edit Project Member{% endblock %}
{% block body_class %}page-edit-project-member{% endblock %}

{% block content %}

{% include 'accounts/includes/header-tag.html' %}

<main class="container-fluid">
    <div class="col">
        <div class="row">
            <div class="col-12 p-4 px-md-5 mt-3">
                <h1 class="text-center"><i class="bi bi-people-fill color-mediumseagreen"></i> Manage Team Member</h1>
            </div>
        </div>
        <div class="row">
            <div class="col col-md-3 p-4 d-none d-md-flex">
                {% include 'projects/includes/projects-nav-left.html' %}
            </div>
            <div class="col px-5 py-4 d-flex flex-column">
                <h2>{{ membership.user.first_name }} {{ membership.user.last_name }} | @{{ membership.user.username }}</h2>
                <p class="fw-bold">{% if membership.user.id == creator_id %}Project Creator{% endif %}</p>
                <p>Team Status: {{ membership.get_invite_status_display }} {% if membership.invite_status == 'pending' %}(<a href="{% url 'respond_to_invite' membership.id 'cancel' %}">Cancel</a>){% endif %}</p>
                <form method="post">
                    {% csrf_token %}
                    {{ form.as_p }}
                    <button type="submit" class="btn btn-primary mt-3">Save Changes</button>
                    <a href="{% url 'project_detail' membership.project.id %}" class="btn btn-outline-secondary mt-3">Cancel</a>
                </form>
            </div>
        </div>
    </div>
</main>
{% endblock %}